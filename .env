# mongo settings
MONGO_PORT=27017
MONGO_REPLICASET="rs0"
CACHE_MONGO_URL="mongodb://mongodb:${MONGO_PORT}"
CACHE_MONGO_DATABASE=dataset_viewer_cache
QUEUE_MONGO_URL="mongodb://mongodb:${MONGO_PORT}"
QUEUE_MONGO_DATABASE=dataset_viewer_queue

# common settings
LOG_LEVEL="INFO"

COMMON_BLOCKED_DATASETS=
COMMON_HF_ENDPOINT="https://huggingface.co"
COMMON_HF_TOKEN=

ASSETS_STORAGE_ROOT="/storage/assets"
ASSETS_STORAGE_PROTOCOL="file"
CACHED_ASSETS_STORAGE_ROOT="/storage/cached-assets"
CACHED_ASSETS_STORAGE_PROTOCOL="file"

S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_REGION_NAME="us-east-1"

CLOUDFRONT_EXPIRATION_SECONDS=3600
CLOUDFRONT_KEY_PAIR_ID=
CLOUDFRONT_PRIVATE_KEY=

PROMETHEUS_MULTIPROC_DIR=
NUMBA_CACHE_DIR="/numba-cache"

STORAGE_DIRECTORY="/storage"
PARQUET_METADATA_STORAGE_DIRECTORY="/parquet_metadata"

# service settings
API_HF_AUTH_PATH="/api/datasets/%s/auth-check"
API_HF_JWT_ALGORITHM="EdDSA"
API_HF_TIMEOUT_SECONDS="0.2"
API_MAX_AGE_LONG=120
API_MAX_AGE_SHORT=10

# admin settings
ADMIN_HF_ORGANIZATION="huggingface"
ADMIN_CACHE_REPORTS_NUM_RESULTS=100
ADMIN_CACHE_REPORTS_WITH_CONTENT_NUM_RESULTS=100
ADMIN_HF_TIMEOUT_SECONDS="0.2"
ADMIN_HF_WHOAMI_PATH="/api/whoami-v2"
ADMIN_MAX_AGE=10
ADMIN_UVICORN_NUM_WORKERS=2
ADMIN_UVICORN_PORT=8081

# api settings
API_UVICORN_PORT=8080
API_UVICORN_NUM_WORKERS=2

# rows settings
ROWS_UVICORN_NUM_WORKERS=2
ROWS_UVICORN_PORT=8082
ROWS_INDEX_MAX_ARROW_DATA_IN_MEMORY="300_000_000"

# search settings
SEARCH_UVICORN_NUM_WORKERS=2
SEARCH_UVICORN_PORT=8083
DUCKDB_INDEX_CACHE_DIRECTORY="/duckdb-index"
DUCKDB_INDEX_EXTENSIONS_DIRECTORY="/tmp/duckdb-extensions"

# sse-api settings
SSE_API_UVICORN_NUM_WORKERS=2
SSE_API_UVICORN_PORT=8085

# webhook settings
WEBHOOK_UVICORN_PORT=8087
WEBHOOK_UVICORN_NUM_WORKERS=2

# worker settings
WORKER_UVICORN_PORT=8086
WORKER_UVICORN_NUM_WORKERS=2
COMMITTER_HF_TOKEN=
HF_DATASETS_CACHE="/datasets-cache"
HF_MODULES_CACHE="/modules-cache"
CONFIG_NAMES_MAX_NUMBER="3_000"
DESCRIPTIVE_STATISTICS_CACHE_DIRECTORY="/stats-cache"
DESCRIPTIVE_STATISTICS_MAX_SPLIT_SIZE_BYTES="100_000_000"
FIRST_ROWS_MAX_BYTES="1_000_000"
FIRST_ROWS_MIN_CELL_BYTES=100
FIRST_ROWS_MIN_NUMBER=10
FIRST_ROWS_COLUMNS_MAX_NUMBER=1_000
OPT_IN_OUT_URLS_SCAN_COLUMNS_MAX_NUMBER=10
OPT_IN_OUT_URLS_SCAN_MAX_CONCURRENT_REQUESTS_NUMBER=100
OPT_IN_OUT_URLS_SCAN_MAX_REQUESTS_PER_SECOND=50
OPT_IN_OUT_URLS_SCAN_ROWS_MAX_NUMBER=100_000
OPT_IN_OUT_URLS_SCAN_SPAWNING_TOKEN=
OPT_IN_OUT_URLS_SCAN_URLS_NUMBER_PER_BATCH=1000
OPT_IN_OUT_URLS_SCAN_SPAWNING_URL="https://opts-api.spawningaiapi.com/api/v2/query/urls"
PARQUET_AND_INFO_COMMIT_MESSAGE="Update parquet files"
PARQUET_AND_INFO_MAX_DATASET_SIZE_BYTES="100_000_000"
PARQUET_AND_INFO_MAX_ROW_GROUP_BYTE_SIZE_FOR_COPY="100_000_000"
PARQUET_AND_INFO_SOURCE_REVISION="main"
PARQUET_AND_INFO_TARGET_REVISION="refs/convert/parquet"
PARQUET_AND_INFO_URL_TEMPLATE="/datasets/%s/resolve/%s/%s"
ROWS_INDEX_MAX_ARROW_DATA_IN_MEMORY="300_000_000"
WORKER_CONTENT_MAX_BYTES="10_000_000"
WORKER_KILL_LONG_JOB_INTERVAL_SECONDS=60
WORKER_KILL_ZOMBIES_INTERVAL_SECONDS=600
WORKER_MAX_JOB_DURATION_SECONDS=1200
WORKER_MAX_MISSING_HEARTBEATS=5
WORKER_MAX_LOAD_PCT=70
WORKER_MAX_MEMORY_PCT=80
WORKER_SLEEP_SECONDS=15